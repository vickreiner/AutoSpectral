% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calculate_weights.R
\name{calculate.weights}
\alias{calculate.weights}
\title{Calculate Weights}
\usage{
calculate.weights(
  fcs.file,
  spectral.channels,
  save = FALSE,
  output.dir = "./table_spectra",
  filename = "weights.csv"
)
}
\arguments{
\item{fcs.file}{A character string specifying the path to the FCS file.}

\item{spectral.channels}{Character string specifying the names of the spectral
detectors in the FCS file. Can be obtained from \code{flow.control$spectral.channel}
or \code{colnames(spectra)}.}

\item{save}{Logical, if \code{TRUE}, save the weights to a CSV file in \code{output.dir}.}

\item{output.dir}{Character string specifying the directory to save the CSV
file, if generated.}

\item{filename}{Character string specifying the filename for the CSV file.
Default is \code{weights.csv}.}
}
\value{
A named numeric vector with weighting for each detector.
}
\description{
This function calculates weights for generating a weighted least-squares (WLS)
unmixing matrix. It does so using mean expression levels in the provided FCS
file. The provided FCS file should thus be representative of the data to which
the unmixing matrix will be applied. One option would be to concatenate samples
of all FCS files to be unmixed and use that as input to \code{fcs.file}.
}
